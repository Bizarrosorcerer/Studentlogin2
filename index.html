<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Attendance Tracker</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- LOGIN -->
<div id="login-screen">
  <div class="login-card">
    <h1>Welcome Student</h1>
    <p>Track your attendance across multiple sessions.</p>
    <div id="first-time-setup" class="hidden">
      <input type="text" id="display-name-input" placeholder="Enter your Name">
    </div>
    <button id="login-btn" class="btn-google">Sign in with Google</button>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard-screen" class="hidden">

  <div class="app-header">
    <div class="profile-section">
      <div class="profile-img-container" id="profile-pic-wrapper">
        <img id="profile-img" src="https://via.placeholder.com/50">
        <div class="edit-overlay">üì∑</div>
      </div>
      <input type="file" id="profile-upload" accept="image/*" hidden>

      <div class="user-info">
        <h2 id="user-name">Student <span id="edit-name-btn">‚úé</span></h2>
        <small id="user-email"></small>
      </div>
    </div>
    <button id="logout-btn" class="btn-small">Logout</button>
  </div>

  <div id="sessions-container"></div>

  <button id="add-session-fab" class="fab">+</button>
  <p id="admin-link" class="hidden admin-link">Admin Directory</p>
</div>

<!-- SESSION DETAIL -->
<div id="session-detail-screen" class="hidden">

  <div class="session-header">
    <button id="back-btn" class="btn-back">‚Üê Back</button>
    <div>
      <h2 id="detail-title"></h2>
      <small id="detail-dates"></small>
    </div>
  </div>

  <div class="legend-bar">
    <span class="legend-item"><span class="dot green"></span> Present</span>
    <span class="legend-item"><span class="dot red"></span> Absent</span>
    <span class="legend-item"><span class="dot blue"></span> Holiday</span>
  </div>

  <div class="stats-card">
    <div>
      <span id="attendance-percent">--%</span><br>
      <small>Attendance</small>
    </div>
    <button id="check-btn" class="btn-primary">Check Attendance</button>
  </div>

  <div class="calendar-wrapper">
    <div class="calendar-nav">
      <button id="prev-month-btn"><</button>
      <h3 id="calendar-month-year"></h3>
      <button id="next-month-btn">></button>
    </div>
    <div class="day-names-row">
      <div>Sun</div><div>Mon</div><div>Tue</div>
      <div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>
    <div id="calendar-days" class="calendar-days-grid"></div>
  </div>

  <button id="end-session-btn" class="btn-danger">End Session</button>
</div>

<!-- MODALS -->
<div id="photo-modal" class="modal hidden">
  <div class="modal-content">
    <h3>Profile Photo</h3>
    <button id="replace-photo" class="btn-primary">Replace</button>
    <button id="remove-photo" class="btn-danger">Remove</button>
    <button id="cancel-photo" class="btn-text">Cancel</button>
  </div>
</div>

<div id="edit-name-modal" class="modal hidden">
  <div class="modal-content">
    <h3>Edit Name</h3>
    <input id="edit-name-input">
    <button id="save-name-btn" class="btn-primary">Save</button>
    <button id="cancel-edit-name" class="btn-text">Cancel</button>
  </div>
</div>

<div id="create-modal" class="modal hidden">
  <div class="modal-content">
    <h3>Start Session</h3>
    <input id="new-session-name" placeholder="Session Name">
    <input type="date" id="new-session-date">
    <button id="confirm-create" class="btn-primary">Start</button>
    <button id="cancel-create" class="btn-text">Cancel</button>
  </div>
</div>

<div id="end-modal" class="modal hidden">
  <div class="modal-content">
    <h3>End Session</h3>
    <input type="date" id="end-session-date">
    <button id="confirm-end" class="btn-danger">End</button>
    <button id="cancel-end" class="btn-text">Cancel</button>
  </div>
</div>

<div id="admin-modal" class="modal hidden">
  <div class="modal-content">
    <h3>User Directory</h3>
    <div id="admin-list"></div>
    <button id="close-admin" class="btn-text">Close</button>
  </div>
</div>

<script type="module" src="app.js"></script>
</body>
</html>
